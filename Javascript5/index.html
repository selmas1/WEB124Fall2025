<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Scoped CSS Variables + JS (Simple)</title>
    <link rel="icon" href="https://fav.farm/ðŸ”¥" />
    <!--
    Selin ELMAS â€” 10/30/2025
    Javascript Project 5: Scoped CSS Variables with JavaScript. Wes Bos â€” JavaScript30 (Day 3: CSS Variables)
        https://github.com/wesbos/JavaScript30

        Photo credit: https://www.istockphoto.com/photo/autumn-in-vermont-gm484270482-71605819?searchscope=image%2Cfilm

    Whatâ€™s NEW:
      HTML: Added live value readouts and two buttons (Reset, Random).
      CSS: Introduced custom properties (--spacing, --blur, --base) and applied them to the image.
      JS: Updates CSS variables on input, shows live values, Reset + Random functions.
  -->
    <style>
        :root {
            --spacing: 16px;
            --blur: 6px;
            --base: #ffc600;
        }


        html,
        body {
            height: 100%;
        }

        body {
            margin: 0;
            font: 16px/1.45 system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: #193549;
            /* ORIGINAL color, kept */
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 24px 12px 40px;
            text-align: center;
        }

        h1 {
            margin: 0 0 8px;
            font-size: 28px;
            font-weight: 800;
        }

        .hl {
            color: var(--base);
        }

        .controls {
            margin: 16px auto 18px;
            display: grid;
            grid-template-columns: auto auto;
            gap: 8px 10px;
            align-items: center;
            max-width: 520px;
            width: 100%;
        }

        @media (max-width: 520px) {
            .controls {
                grid-template-columns: 1fr 1fr;
            }
        }

        .controls label {
            justify-self: end;
        }

        .controls output {
            justify-self: start;
            font-variant-numeric: tabular-nums;
            padding: 2px 6px;
            border: 1px solid rgba(255, 255, 255, .2);
            border-radius: 4px;
            background: rgba(0, 0, 0, .2);
        }

        .controls input[type="range"] {
            grid-column: 1 / -1;
            width: 100%;
            accent-color: var(--base);
        }

        .controls input[type="color"] {
            justify-self: start;
            border: none;
            width: 40px;
            height: 28px;
            background: transparent;
            cursor: pointer;
        }

        .buttons {
            margin: 8px 0 16px;
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        button {
            padding: 8px 12px;
            border: 1px solid rgba(255, 255, 255, .25);
            border-radius: 6px;
            background: rgba(255, 255, 255, .08);
            color: #fff;
            cursor: pointer;
        }

        button:hover {
            background: rgba(255, 255, 255, .14);
        }


        .preview {
            max-width: 800px;
            width: 100%;
        }

        .preview img {
            width: 100%;
            height: auto;
            padding: var(--spacing);
            background: color-mix(in srgb, var(--base) 18%, transparent);
            filter: blur(var(--blur));
            border-radius: 8px;
            box-sizing: border-box;
            transition: filter .2s ease, padding .2s ease, background .2s ease;
        }

        .caption {
            margin-top: 10px;
            font-size: 14px;
            color: #cfe3ff;
        }
    </style>
</head>

<body>

    <h1>Update CSS Variables with <span class="hl">JS</span></h1>


    <div class="controls" id="controls">

        <label for="spacing">Spacing</label>
        <output id="spacingOut" for="spacing">16px</output>
        <input id="spacing" type="range" name="spacing" min="0" max="64" value="16" step="1" data-sizing="px" />


        <label for="blur">Blur</label>
        <output id="blurOut" for="blur">6px</output>
        <input id="blur" type="range" name="blur" min="0" max="25" value="6" step="1" data-sizing="px" />


        <label for="base">Base</label>
        <output id="baseOut" for="base">#ffc600</output>
        <input id="base" type="color" name="base" value="#ffc600" />
    </div>

    <div class="buttons">
        <button id="resetBtn" type="button">Reset</button>
        <button id="randomBtn" type="button">Random</button>
    </div>

    <!-- Image -->
    <div class="preview">
        <img src="fall.png" alt="Autumn leaves â€” effect preview" id="photo" />
        <div class="caption">
            Padding: <span id="padVal">16px</span> â€¢ Blur: <span id="blurVal">6px</span> â€¢ Base: <span
                id="baseVal">#ffc600</span>
        </div>
    </div>

    <script>
        /*
          JS:
          - Bind inputs to CSS variables on :root
          - Update the small readouts and caption
          - Reset and Random buttons
        */
        const root = document.documentElement;

        const spacing = document.getElementById('spacing');
        const blur = document.getElementById('blur');
        const base = document.getElementById('base');

        const spacingOut = document.getElementById('spacingOut');
        const blurOut = document.getElementById('blurOut');
        const baseOut = document.getElementById('baseOut');

        const padVal = document.getElementById('padVal');
        const blurVal = document.getElementById('blurVal');
        const baseVal = document.getElementById('baseVal');

        const resetBtn = document.getElementById('resetBtn');
        const randomBtn = document.getElementById('randomBtn');

        const DEFAULTS = { spacing: 16, blur: 6, base: '#ffc600' };

        function setVar(name, value, suffix = '') {
            root.style.setProperty(`--${name}`, `${value}${suffix}`);
        }

        function applyFromInput(input) {
            const suffix = input.dataset.sizing || '';
            setVar(input.name, input.value, suffix);

            // update small outputs and caption
            if (input.name === 'spacing') {
                spacingOut.textContent = padVal.textContent = `${input.value}${suffix}`;
            } else if (input.name === 'blur') {
                blurOut.textContent = blurVal.textContent = `${input.value}${suffix}`;
            } else if (input.name === 'base') {
                baseOut.textContent = baseVal.textContent = input.value.toLowerCase();
            }
        }


        function resetAll() {
            spacing.value = DEFAULTS.spacing;
            blur.value = DEFAULTS.blur;
            base.value = DEFAULTS.base;
            [spacing, blur, base].forEach(applyFromInput);
        }

        // Randomize values
        function randomAll() {
            const r = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
            spacing.value = r(0, 64);
            blur.value = r(0, 25);
            base.value = `#${Math.floor(Math.random() * 0xffffff).toString(16).padStart(6, '0')}`;
            [spacing, blur, base].forEach(applyFromInput);
        }

        // Init + events
        function init() {
            [spacing, blur, base].forEach(el => {
                el.addEventListener('input', () => applyFromInput(el));
                el.addEventListener('change', () => applyFromInput(el));
            });
            resetBtn.addEventListener('click', resetAll);
            randomBtn.addEventListener('click', randomAll);
            // set initial state
            [spacing, blur, base].forEach(applyFromInput);
        }

        init();
    </script>
</body>

</html>
